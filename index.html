<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ”¥ Toasty Forums</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase v8 (REQUIRED) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
</head>
<body>
  <div id="blackhole"></div>
  <div id="stars"></div>

  <!-- LOGIN/REGISTER PANEL -->
  <div id="box" class="panel">
    <h1>ğŸ”¥ Toasty Forums</h1>

    <div id="loginBox">
      <h2>Login</h2>
      <input id="logEmail" placeholder="Email" />
      <input id="logPass" type="password" placeholder="Password" />
      <button id="loginBtn">Login</button>
      <p id="toggleToRegister" style="cursor:pointer;">Create an account</p>
    </div>

    <div id="registerBox" class="hidden">
      <h2>Register</h2>
      <input id="regEmail" placeholder="Email" />
      <input id="regPass" type="password" placeholder="Password" />
      <input id="regUsername" placeholder="Username" />
      <button id="registerBtn">Register</button>
      <p id="toggleToLogin" style="cursor:pointer;">Already have an account?</p>
    </div>
  </div>

  <!-- MAIN FORUM -->
  <div id="forum" class="panel hidden">
    <div id="header" style="display:flex; justify-content:space-between; align-items:center;">
      <h2>ğŸ”¥ Toasty Forums</h2>
      <div style="display:flex; gap:12px; align-items:center;">
        <span id="coinDisplay" style="font-weight:bold; color:#ffd700;">ğŸª™ 0 Coins</span>
        <button id="claimDailyBtn">ğŸ Daily</button>
        <button id="logoutBtn">Logout</button>
      </div>
    </div>

    <!-- TABS -->
    <div class="tabs">
      <button id="tabPosts" class="active">ğŸ“ Posts</button>
      <button id="tabUsers">ğŸ‘¥ Users</button>
      <button id="tabDMs">ğŸ’¬ DMs</button>
      <button id="tabUpdates">ğŸ“¢ Updates</button>
      <button id="tabSuggestions">ğŸ’¡ Suggestions</button>
      <button id="tabGames">ğŸ® Games</button>
      <button id="tabLeaderboard">ğŸ† Leaderboard</button>
      <button id="tabActivity">ğŸ“Š Activity</button>
      <button id="tabProfile">ğŸ‘¤ My Profile</button>
    </div>

    <!-- SECTIONS -->
    <div id="postsSection" class="section">
      <h3>Create Post</h3>
      <select id="postCategory">
        <option value="General">General</option>
        <option value="Gaming">Gaming</option>
        <option value="News">News</option>
        <option value="Announcements">Announcements</option>
        <option value="Off-Topic">Off-Topic</option>
      </select>
      <textarea id="postContent" placeholder="Write something... (+5 coins)"></textarea>
      <input type="file" id="postImage" accept="image/*" />
      <img id="previewImage" class="hidden" alt="preview" />
      <button id="postBtn">Post (+5 coins)</button>
      <div id="postsList" style="margin-top:16px;"></div>
    </div>

    <div id="usersSection" class="section hidden">
      <h3>Users</h3>
      <div id="usersList"></div>
    </div>

    <div id="dmsSection" class="section hidden">
      <h3>Direct Messages</h3>
      <input id="dmToUsername" placeholder="Send to (username)" />
      <textarea id="dmContent" placeholder="Message..."></textarea>
      <button id="dmBtn">Send DM</button>
      <div id="dmsList" style="margin-top:12px;"></div>
    </div>

    <div id="updatesSection" class="section hidden">
      <h3>Updates</h3>
      <div id="updatesList"></div>
    </div>

    <div id="suggestionsSection" class="section hidden">
      <h3>Suggestions</h3>
      <input id="suggestionTitle" placeholder="Title" />
      <textarea id="suggestionDescription" placeholder="Describe it..."></textarea>
      <button id="submitSuggestionBtn">Submit Suggestion (+10 coins)</button>
      <div id="suggestionsList" style="margin-top:12px;"></div>
    </div>

    <div id="gamesSection" class="section hidden">
      <h3>Games â€” Plinko</h3>
      <div id="plinkoWrap" style="display:flex; gap:16px; align-items:flex-start; flex-wrap:wrap;">
        <canvas id="plinkoCanvas" width="400" height="420" style="border-radius:10px;"></canvas>
        <div style="min-width:180px;">
          <label>Bet:</label>
          <input id="plinkoBet" type="number" value="10" min="10" />
          <button id="plinkoDropBtn">Drop Ball</button>
          <p style="margin-top:8px;">Notes: Minimum bet 10 coins.</p>
          <div id="plinkoResult"></div>
        </div>
      </div>
    </div>

    <div id="leaderboardSection" class="section hidden">
      <h3>Leaderboard</h3>
      <div id="leaderboardList"></div>
    </div>

    <div id="activitySection" class="section hidden">
      <h3>Activity Leaderboard</h3>
      <div id="activityList"></div>
    </div>

    <div id="profileSection" class="section hidden">
      <h3>My Profile</h3>
      <input id="profileBio" placeholder="Short bio" />
      <input id="profileAvatar" type="file" accept="image/*" />
      <img id="profileAvatarPreview" class="hidden" alt="avatar preview" />
      <button id="saveProfileBtn">Save Profile</button>
      <div id="myProfileInfo" style="margin-top:12px;"></div>
    </div>
  </div>

  <!-- App script -->
  <script src="app.js"></script>
</body>
</html>
